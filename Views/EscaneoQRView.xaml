<UserControl x:Class="AppCaravana.Views.EscaneoQRView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary Source="../Resources/Styles.xaml"/>
    </UserControl.Resources>

    <Grid Background="#F5F6FA">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Orientation="Vertical"
                        Margin="20">
                <TextBlock Text="ðŸ” Escanear CÃ³digo QR del Cliente"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="#2C3E50"
                           Margin="0,0,0,20"/>

                <StackPanel Orientation="Vertical"
                            Margin="0,0,0,20">
                    <TextBlock Text="Ingresa el CÃ³digo o ID del Cliente:"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="#34495E"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="120"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="TxtCodigoQR"
                                 Grid.Column="0"
                                 Padding="10"
                                 FontSize="14"
                                 Style="{StaticResource ModernTextBoxStyle}"
                                 Margin="0,0,10,0"
                                 KeyDown="TxtCodigoQR_KeyDown"/>
                        <Button Grid.Column="1"
                                Content="Buscar"
                                Click="BtnBuscar_Click"
                                Style="{StaticResource PrimaryButtonStyle}"
                                Height="40"/>
                    </Grid>
                </StackPanel>

                <Border Background="White"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,20"
                        BorderBrush="#E0E0E0"
                        BorderThickness="1">
                    <StackPanel Orientation="Vertical">
                        <TextBlock Text="Datos del Cliente"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,15"/>
                        <StackPanel x:Name="ClienteDataGrid"
                                    Visibility="Collapsed"
                                    Orientation="Vertical">
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Nombre:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock Grid.Column="1"
                                           x:Name="TxtNombreCliente"
                                           Foreground="#2C3E50"/>
                            </Grid>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Apellido:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock Grid.Column="1"
                                           x:Name="TxtApellidoCliente"
                                           Foreground="#2C3E50"/>
                            </Grid>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="DNI:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock Grid.Column="1"
                                           x:Name="TxtDNICliente"
                                           Foreground="#2C3E50"/>
                            </Grid>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Email:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock Grid.Column="1"
                                           x:Name="TxtEmailCliente"
                                           Foreground="#2C3E50"/>
                            </Grid>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="TelÃ©fono:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock Grid.Column="1"
                                           x:Name="TxtTelefonoCliente"
                                           Foreground="#2C3E50"/>
                            </Grid>
                        </StackPanel>
                        <TextBlock x:Name="TxtNoCliente"
                                   Text="Ingresa un cÃ³digo para buscar cliente."
                                   Foreground="#95A5A6"/>
                    </StackPanel>
                </Border>

                <Border Background="White"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,20"
                        BorderBrush="#E0E0E0"
                        BorderThickness="1">
                    <StackPanel Orientation="Vertical">
                        <TextBlock Text="Ventas Asociadas"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,15"/>
                        <DataGrid x:Name="VentasDataGrid"
                                  AutoGenerateColumns="False"
                                  Style="{StaticResource ModernDataGridStyle}"
                                  Height="200"
                                  Visibility="Collapsed">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Fecha" Binding="{Binding Fecha, StringFormat=\{0:dd/MM/yyyy\}}" Width="120"/>
                                <DataGridTextColumn Header="Importe" Binding="{Binding Importe, StringFormat=C}" Width="120"/>
                                <DataGridTextColumn Header="Cant. Caravanas" Binding="{Binding CantidadCaravanas}" Width="120"/>
                                <DataGridTextColumn Header="Caravanas" Binding="{Binding Caravanas}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                        <TextBlock x:Name="TxtNoVentas"
                                   Text="No hay ventas registradas para este cliente."
                                   Foreground="#95A5A6"/>
                    </StackPanel>
                </Border>

                <Border Background="White"
                        CornerRadius="8"
                        Padding="15"
                        BorderBrush="#E0E0E0"
                        BorderThickness="1">
                    <StackPanel Orientation="Vertical">
                        <TextBlock Text="Resumen Financiero"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,15"/>
                        <StackPanel x:Name="ResumenGrid"
                                    Visibility="Collapsed"
                                    Orientation="Horizontal">
                            <StackPanel Orientation="Vertical"
                                        Margin="0,0,20,0">
                                <TextBlock Text="Total Ventas:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock x:Name="TxtTotalVentas"
                                           FontSize="18"
                                           FontWeight="Bold"
                                           Foreground="#27AE60"/>
                            </StackPanel>
                            <StackPanel Orientation="Vertical"
                                        Margin="0,0,20,0">
                                <TextBlock Text="Total Gasto:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock x:Name="TxtTotalGasto"
                                           FontSize="18"
                                           FontWeight="Bold"
                                           Foreground="#E67E22"/>
                            </StackPanel>
                            <StackPanel Orientation="Vertical"
                                Margin="0,0,20,0">
                            <TextBlock Text="Total Caravanas:"
                                   FontWeight="Bold"
                                   Foreground="#34495E"/>
                            <TextBlock x:Name="TxtTotalCaravanas"
                                   FontSize="18"
                                   FontWeight="Bold"
                                   Foreground="#9B59B6"/>
                            </StackPanel>
                            <StackPanel Orientation="Vertical">
                                <TextBlock Text="Cantidad de Ventas:"
                                           FontWeight="Bold"
                                           Foreground="#34495E"/>
                                <TextBlock x:Name="TxtCantidadVentas"
                                           FontSize="18"
                                           FontWeight="Bold"
                                           Foreground="#3498DB"/>
                            </StackPanel>
                        </StackPanel>
                        <TextBlock x:Name="TxtNoResumen"
                                   Text="Busca un cliente para ver resumen financiero."
                                   Foreground="#95A5A6"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
